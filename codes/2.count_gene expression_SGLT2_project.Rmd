---
title: "Untitled"
author: "Jia Nie"
date: "11/16/2021"
output: html_document
---

# References
```{bash}
# References - 2020-A (July 7, 2020)
cd /media/jianie/DATA/refdata/refdata-cellranger-GRCh38-3.0.0 # Human
cd /media/jianie/DATA/refdata/refdata-gex-mm10-2020-A # Mouse
cd /media/jianie/DATA/refdata/refdata-gex-GRCh38-and-mm10-2020-A # Human & Mouse
cd /media/jianie/DATA/refdata/Cjacchus_012021 # marmoset from Sean_UTSA
```

# Set up route
```{bash}
mkdir /home/jianie/yard/run_cellranger_count
cd /home/jianie/yard/run_cellranger_count
export PATH=/home/jianie/yard/apps/cellranger-6.1.1:$PATH # set up the variables
cellranger count --help

# Example:
# --id <ID> A unique run id and output folder name [a-zA-Z0-9_-]+
#  --description <TEXT> Sample description to embed in output files [default: ]
# --transcriptome <PATH> Path of folder containing 10x-compatible transcriptome reference
# --fastqs <PATH>...        Path to input FASTQ data
# --project <TEXT> Name of the project folder within a mkfastq or bcl2fastq-generated folder from which to pick FASTQs
# --sample <PREFIX>...      Prefix of the filenames of FASTQs to select
# --force-cells <NUM> Force pipeline to use this number of cells, bypassing cell calling algorithm. [MINIMUM: 10]
# --expect-cells <NUM> Expected number of recovered cells, used as input to cell calling algorithm. [default: 3000]
# --r1-length <NUM> Hard trim the input Read 1 to this length before analysis
# --r2-length <NUM> Hard trim the input Read 2 to this length before analysis
# --chemistry <CHEM>
#            Assay configuration. NOTE: by default the assay configuration is
#            detected automatically, which is the recommened mode. You usually
#            will not need to specify a chemistry. Options are: 'auto' for
#            autodetection, 'threeprime' for Single Cell 3', 'fiveprime' for
#            Single Cell 5', 'SC3Pv1' or 'SC3Pv2' or 'SC3Pv3' for Single Cell
#            3' v1/v2/v3, 'SC3Pv3LT' for Single Cell 3' v3 LT, 'SC3Pv3HT' for
#            Single Cell 3' v3 HT, 'SC5P-PE' or 'SC5P-R2' for Single Cell 5',
#            paired-end/R2-only, 'SC-FB' for Single Cell Antibody-only 3' v2 or
#            5' [default: auto]

cellranger count --id=xxx \
--transcriptome=/media/jianie/DATA/refdata/refdata-cellranger-GRCh38-3.0.0 \
--fastqs=/media/jianie/Seagate_SequencingFiles_1/20191121_NovaSeq_fastq/C202SC19080754_2/raw_data/HTCMTDSXX/ \
--project xxx \
--sample=xxx \
--expect-cells=10000 \
--r1-length 26 \
--r2-length 90 \
--chemistry threeprime \
--include-introns=TRUE
 
cellranger count --id=xxx \
--transcriptome=/media/jianie/DATA/refdata/refdata-gex-mm10-2020-A \
--fastqs=/media/jianie/Seagate_SequencingFiles_1/20191121_NovaSeq_fastq/C202SC19080754_2/raw_data/HTCMTDSXX/ \
--project xxx \
--sample=xxx \
--expect-cells=10000 \
--r1-length 26 \
--r2-length 90 \
--chemistry threeprime

cellranger count --id=xxx \
--transcriptome=/media/jianie/DATA/refdata/Cjacchus_012021 \
--fastqs=/media/jianie/Seagate_SequencingFiles_1/20191121_NovaSeq_fastq/C202SC19080754_2/raw_data/HTCMTDSXX/ \
--project xxx \
--sample=xxx \
--expect-cells=10000 \
--r1-length 26 \
--r2-length 90 \
--chemistry threeprime
```

# Seagate_SequencingFiles_1 -----------------------------------------------------------------------------------------------------------
## 20190613_NextSeq_fastq_Counts
```{bash}
```

## 20190717_NextSeq_fastq_Counts
```{bash}

```

## 20190816_NovaSeq_fastq_Counts
```{bash}

```

## 20190912_NovaSeq_fastq_Counts
```{bash}

```

## 20191121_NovaSeq_fastq
```{bash}

```

## 20210114_UTA_NovaSeq_L3_fastq
```{bash}

```


# Seagate_SequencingFiles_2 -----------------------------------------------------------------------------------------------------------
## 20210126_UTA_NovaSeq_L3_fastq
```{bash}

```

## 20210716_L1_fastq_dual_cellranger
```{bash}

```

## 20210716_L2_fastq_dual_cellranger
```{bash}

```

## 20210830_L3_fastq_dual
```{bash}

```


# SequencingFiles_3 -------------------------------------------------------------------------------------------------------------------
## 20211105_L3_L4_fastq_single
```{bash}

```

## 20211105_L3_L4_fastq_dual
```{bash}
## 76658_V5_force10000
cd /home/jianie/yard/run_cellranger_count
export PATH=/home/jianie/yard/apps/cellranger-6.1.1:$PATH
cellranger count --id=76658_V5_force10000 \
--fastqs=/media/jianie/SequencingFiles_3/20211105_L3_L4_fastq_dual/ \
--sample=76658_V5 \
--transcriptome=/media/jianie/DATA/refdata/refdata-cellranger-GRCh38-3.0.0 \
--include-introns=TRUE \
--force-cells=10000 \
--r1-length 26 \
--r2-length 90 \
--chemistry threeprime \
--project 76658_V5
# Total time:  hr
# 2021-12-06 16:00:25 [runtime] (ready) 
# 2021-12-06 06∶45∶07 PM

## 76638_V11_force10000
cd /home/jianie/yard/run_cellranger_count
export PATH=/home/jianie/yard/apps/cellranger-6.1.1:$PATH
cellranger count --id=76638_V11_force10000 \
--fastqs=/media/jianie/SequencingFiles_3/20211105_L3_L4_fastq_dual/ \
--sample=76638_V11 \
--transcriptome=/media/jianie/DATA/refdata/refdata-cellranger-GRCh38-3.0.0 \
--include-introns=TRUE \
--force-cells=10000 \
--r1-length 26 \
--r2-length 90 \
--chemistry threeprime \
--project 76638_V11
# Total time: 2.5 hr
# 04∶06∶31 AM
# 06∶27∶55 AM
```

## combine
```{bash}
# 76632_V11_combine
cd /home/jianie/yard/run_cellranger_count
export PATH=/home/jianie/yard/apps/cellranger-6.1.1:$PATH
cellranger count --id=76632_V11_combine \
--fastqs=/media/jianie/Seagate_SequencingFiles_2/20210830_L3_fastq_dual/,/media/jianie/DATA/20211105_L3_L4_fastq_dual/ \
--sample=76632_V11 \
--transcriptome=/media/jianie/DATA/refdata/refdata-cellranger-GRCh38-3.0.0 \
--include-introns=TRUE \
--expect-cells=10000 \
--r1-length 26 \
--r2-length 90 \
--chemistry threeprime \
--project 76632_V11
# Total time: 1.5 hr
# 2021-11-18 16:10:40 [runtime] (ready)  
# 2021-11-18 18:45:55 Shutting down.

# 76632_V5_combine: mistake in dual
cd /home/jianie/yard/run_cellranger_count
export PATH=/home/jianie/yard/apps/cellranger-6.1.1:$PATH
cellranger count --id=76632_V5_combine \
--fastqs=/media/jianie/Seagate_SequencingFiles_2/20210716_L2_fastq_single_cellranger/outs/fastq_path/HGK5TDSX2/,/media/jianie/DATA/20211105_L3_L4_fastq_dual/ \
--sample=76632_V5 \
--transcriptome=/media/jianie/DATA/refdata/refdata-cellranger-GRCh38-3.0.0 \
--include-introns=TRUE \
--expect-cells=10000 \
--r1-length 26 \
--r2-length 90 \
--chemistry threeprime \
--project 76632_V5
# Total time: 3hr
# 2021-11-19 16:22:24 [runtime] (ready) 
# 2021-11-19 19:21:07 Shutting down.

# 76632_V5_combine: corrected
cd /home/jianie/yard/run_cellranger_count
export PATH=/home/jianie/yard/apps/cellranger-6.1.1:$PATH
cellranger count --id=76632_V5_combine \
--fastqs=/media/jianie/Seagate_SequencingFiles_2/20210716_L2_fastq_single_cellranger/outs/fastq_path/HGK5TDSX2/,/media/jianie/SequencingFiles_3/20211105_L3_L4_fastq_single/ \
--sample=76632_V5 \
--transcriptome=/media/jianie/DATA/refdata/refdata-cellranger-GRCh38-3.0.0 \
--include-introns=TRUE \
--expect-cells=10000 \
--r1-length 26 \
--r2-length 90 \
--chemistry threeprime \
--project 76632_V5
# Total time: 3.5 hr
# 2021-12-06 12:23:34 [runtime] (ready) 
# 2021-12-06 16:00:23 Shutting down.

# 76638_V5_combine
cd /home/jianie/yard/run_cellranger_count
export PATH=/home/jianie/yard/apps/cellranger-6.1.1:$PATH
cellranger count --id=76638_V5_combine \
--fastqs=/media/jianie/Seagate_SequencingFiles_2/20210830_L3_fastq_dual/,/media/jianie/DATA/20211105_L3_L4_fastq_dual/ \
--sample=76638_V5 \
--transcriptome=/media/jianie/DATA/refdata/refdata-cellranger-GRCh38-3.0.0 \
--include-introns=TRUE \
--expect-cells=10000 \
--r1-length 26 \
--r2-length 90 \
--chemistry threeprime \
--project 76638_V5
# Total time: 3 hr
# 2021-11-18 18:45:58 [runtime] (ready)  
# 2021-11-18 21:40:40 Shutting down.

# 76638_V5_Muscle_combine
cd /home/jianie/yard/run_cellranger_count
export PATH=/home/jianie/yard/apps/cellranger-6.1.1:$PATH
cellranger count --id=76638_V5_Muscle_combine \
--fastqs=/media/jianie/Seagate_SequencingFiles_2/20210830_L3_fastq_dual/,/media/jianie/DATA/20211105_L3_L4_fastq_dual/ \
--sample=76638_V5_Muscle \
--transcriptome=/media/jianie/DATA/refdata/refdata-cellranger-GRCh38-3.0.0 \
--include-introns=TRUE \
--expect-cells=10000 \
--r1-length 26 \
--r2-length 90 \
--chemistry threeprime \
--project 76638_V5_Muscle
# Total time: 3 hr
# 2021-11-19 19:21:09 [runtime] (ready)  
# 2021-11-19 22:23:00 Shutting down.

# 76638_V5_Muscle_combine_force10000
cd /home/jianie/yard/run_cellranger_count
export PATH=/home/jianie/yard/apps/cellranger-6.1.1:$PATH
cellranger count --id=76638_V5_Muscle_combine_force10000 \
--fastqs=/media/jianie/Seagate_SequencingFiles_2/20210830_L3_fastq_dual/,/media/jianie/SequencingFiles_3/20211105_L3_L4_fastq_dual/ \
--sample=76638_V5_Muscle \
--transcriptome=/media/jianie/DATA/refdata/refdata-cellranger-GRCh38-3.0.0 \
--include-introns=TRUE \
--expect-cells=10000 \
--r1-length 26 \
--r2-length 90 \
--chemistry threeprime \
--project 76638_V5_Muscle
# Total time: 
# 2021-12-08 07:27:39 [runtime] (ready) 
# 2021-12-08 10:37:10 Shutting down.

# 76643_V5_combine
cd /home/jianie/yard/run_cellranger_count
export PATH=/home/jianie/yard/apps/cellranger-6.1.1:$PATH
cellranger count --id=76643_V5_combine \
--fastqs=/media/jianie/Seagate_SequencingFiles_2/20210830_L3_fastq_dual/,/media/jianie/DATA/20211105_L3_L4_fastq_dual/ \
--sample=76643_V5 \
--transcriptome=/media/jianie/DATA/refdata/refdata-cellranger-GRCh38-3.0.0 \
--include-introns=TRUE \
--expect-cells=10000 \
--r1-length 26 \
--r2-length 90 \
--chemistry threeprime \
--project 76643_V5
# Total time: 2 hr
# 2021-11-18 21:40:42 [runtime] (ready) 
# 2021-11-18 23:37:30 Shutting down.

# 76647_V5_combine
cd /home/jianie/yard/run_cellranger_count
export PATH=/home/jianie/yard/apps/cellranger-6.1.1:$PATH
cellranger count --id=76647_V5_combine \
--fastqs=/media/jianie/Seagate_SequencingFiles_2/20210830_L3_fastq_dual/,/media/jianie/DATA/20211105_L3_L4_fastq_dual/ \
--sample=76647_V5 \
--transcriptome=/media/jianie/DATA/refdata/refdata-cellranger-GRCh38-3.0.0 \
--include-introns=TRUE \
--expect-cells=10000 \
--r1-length 26 \
--r2-length 90 \
--chemistry threeprime \
--project 76647_V5
# Total time: 5 hr
# 2021-11-18 23:37:31 [runtime] (ready) 
# 2021-11-19 04:58:49 Shutting down.

# 76649_V5_combine
cd /home/jianie/yard/run_cellranger_count
export PATH=/home/jianie/yard/apps/cellranger-6.1.1:$PATH
cellranger count --id=76649_V5_combine \
--fastqs=/media/jianie/Seagate_SequencingFiles_2/20210830_L3_fastq_dual/,/media/jianie/DATA/20211105_L3_L4_fastq_dual/ \
--sample=76649_V5 \
--transcriptome=/media/jianie/DATA/refdata/refdata-cellranger-GRCh38-3.0.0 \
--include-introns=TRUE \
--expect-cells=10000 \
--r1-length 26 \
--r2-length 90 \
--chemistry threeprime \
--project 76649_V5
# Total time: 6 hr
# 2021-11-19 04:58:51 [runtime] (ready) 
# 2021-11-19 10:57:51 Shutting down.

# 76649_V5_combine_force15000
cd /home/jianie/yard/run_cellranger_count
export PATH=/home/jianie/yard/apps/cellranger-6.1.1:$PATH
cellranger count --id=76649_V5_combine_force15000 \
--fastqs=/media/jianie/Seagate_SequencingFiles_2/20210830_L3_fastq_dual/,/media/jianie/SequencingFiles_3/20211105_L3_L4_fastq_dual/ \
--sample=76649_V5 \
--transcriptome=/media/jianie/DATA/refdata/refdata-cellranger-GRCh38-3.0.0 \
--include-introns=TRUE \
--force-cells=15000 \
--r1-length 26 \
--r2-length 90 \
--chemistry threeprime \
--project 76649_V5
# Total time: 6 hr
# 06∶45∶07 PM
# 12∶36∶06 AM
```




